!function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(){function t(){var t=$(window).scrollTop();t>n&&t>a?(D.animate({top:-a},o),q||L.fadeOut("fast").promise().done(function(){L.removeAttr("style")}),n=t):t+$(window).height()<$(document).height()&&(D.animate({top:"0"},o),q||L.fadeIn("fast"),n=t)}var e=void 0,n=void 0,o=200,a=D.outerHeight();$(window).scroll(function(){e=!0}),setInterval(function(){e&&(t(),e=!1)},300)}function a(){$("#navbar-toggle").click(function(){$(this).children().toggleClass("open"),q?(L.slideDown(300),q=!1):(L.slideUp(300).promise().done(function(){L.removeAttr("style")}),q=!0)})}function r(){$("nav ul li a").each(function(){var t=$(this).attr("href");M===t&&$(this).closest("a").addClass("active")})}function i(){"/?info"===M&&x(k)}function c(){$("#button-getStarted").on("click",function(){x(k)}),"/"===M&&$(window).one("scroll",function(){x(k)})}function u(){function t(t){y[t].innerHTML="&#9733;",y[t].classList.add("rate-hover")}for(var e=0;e<A;e++)y[e].addEventListener("click",function(){S=this.getAttribute("value"),document.querySelector("#rateNum").setAttribute("value",S),T();for(var e=0;e<S;e++)t(e)}),y[e].addEventListener("mouseenter",function(){T();for(var e=0;e<this.getAttribute("value");e++)t(e)}),y[e].addEventListener("mouseleave",function(){T();for(var e=0;e<S;e++)t(e)})}function s(t){for(var e=t.querySelectorAll(".date"),n=Date.now(),o=0,a=e.length;o<a;o++){var r=new Date(e[o].innerText),i=r.getMinutes(),c=r.getHours()+":"+(i<10?"0":"")+i,u=r.getTime(),s=Math.floor((n-u)/864e5);e[o].innerText=s<=1?"Dziś o "+c:s<=2?"Wczoraj o "+c:s<=30?s+" dni temu":r.getDate()+" "+O[r.getMonth()],$(e[o]).show(0)}}function l(t){var e=t?$(t):$(document.querySelectorAll(".dropdown")),n=e.find(".dropdown-menu");e.each(function(){var t=this;$(this).off().on("click",function(){var e=$(t).find(".dropdown-menu");n.not(e).slideUp(150),e.slideToggle(150)})}),$(document).on("click",function(t){$(t.target).closest(".dropdown").length||n.slideUp(150)})}function d(){$("#button-addOpinion").click(function(){$(this).fadeOut(100),$("#comment-form-wrapper").fadeIn(300),x(C)})}function m(){$("#button-sendOpinion").click(function(){var t={numOfStars:E.find("#rateNum").val(),commentText:E.find("#text").val(),commentAvatar:E.find("#avatar").val(),commentAuthor:E.find("#currentuser").val()};t.numOfStars&&t.commentText&&f(t)})}function f(t){$.ajax({type:"POST",url:"http://localhost:3000/",data:t,headers:{"X-Requested-With":"XMLHttpRequest"},success:function(e){t.commentId=e,E[0].reset(),T(),S=0,p(t),x(C),v(),h()},error:b})}function p(t){for(var e="",n=$(document.getElementsByClassName("comment")[0]).clone()[0],o=0;o<t.numOfStars;o++)e+="&#9733;";n.getElementsByTagName("img")[0].setAttribute("src",t.commentAvatar),n.getElementsByClassName("author")[0].innerText=t.commentAuthor,n.getElementsByClassName("starsRated")[0].innerHTML=e,n.getElementsByClassName("text")[0].innerText=t.commentText,n.getElementsByClassName("date")[0].innerText=Date(),$(n.getElementsByClassName("button-DeleteComment")[0]).parent().attr("data",t.commentId),s(n),$(n.outerHTML).appendTo("#comments-wrapper").hide(0,function(){$(this).show("normal")}),l(document.querySelectorAll(".dropdown"))}function v(){$(".button-DeleteComment").each(function(){var t=this;$(this).on("click",function(){var e={commentId:$.trim($(t).parent().attr("data"))};$.ajax({url:"http://localhost:3000/",data:e,type:"DELETE",success:function(){$(t).closest("div.comment").slideUp(400,function(){$(this).remove()})},error:b})})})}function h(){var t=$(".button-EditComment"),e=$(document.querySelectorAll(".dropdown"));t.each(function(){var t=this;$(this).on("click",function(){var n={commentId:$.trim($(t).parent().attr("data"))},o=$(t).closest("div.content"),a=o.find("div.text"),r=a.text().trim(),i='<form id="edit-form" class=edit-form>\n                        <textarea id="text-area" class="text-area">'+r+'</textarea>\n                        <div class=\'buttons-container\'>\n                          <button type="button" id="buttonAccept" class="button btn-accept">Zatwierdź</button>\n                          <button type="button" id="buttonCancel" class="button btn-cancel">Anuluj</button>\n                        </div>\n                      </form>';e.fadeOut(100),a.replaceWith(i).promise().done(function(){var t=o.find("#edit-form");o.find("#buttonAccept").on("click",function(){n.editFormText=t.find("#text-area").val();var o=a.text(n.editFormText),i={editForm:t,newTextDiv:o,btnToggleDropdown:e};n.editFormText!==r&&g(n,i)}),o.find("#buttonCancel").on("click",function(){t.replaceWith(a),e.fadeIn(100)})})})})}function g(t,e){$.ajax({type:"PUT",url:"http://localhost:3000/",data:t,headers:{"X-Requested-With":"XMLHttpRequest"},success:function(){w(e)},error:b})}function w(t){t.editForm.replaceWith(t.newTextDiv),t.btnToggleDropdown.fadeIn(100)}function b(t,e,n){console.log("Error")}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;$("body,html").animate({scrollTop:t.offset().top},e)}function T(){for(var t=0;t<A;t++)y[t].innerHTML="&#9734;",y[t].classList.remove("rate-hover")}var y=document.querySelectorAll(".rate span"),A=y.length,E=$("#comment-form"),k=($("#landpic"),$("main")),C=$("#comment-form-wrapper"),D=$("#nav"),L=$("#navbar-collapse"),O=["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],S=0,q=!0,M=window.location.pathname+window.location.search;!function(){o(),a(),r(),i(),c(),u(),s(document),l(),d(),m(),v(),h()}()}]);